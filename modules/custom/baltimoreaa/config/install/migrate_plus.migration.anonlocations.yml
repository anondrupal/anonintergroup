id: anonlocations
label: Import locations
migration_group: baltimoreaa
source:
  plugin: csv
  path: modules/custom/baltimoreaa/baltimoreaa.csv
  header_row_count: 1
  keys:
    - mAdd1
    - mAdd2
    - mCity
    - mZip
  column_names:
    0:
      mID: identifier
    1:
      mName: meeting name
    2:
      mAdd1: address line 1
    3:
      mAdd2: address line 2
    4:
      mCity: city
    5:
      mZip: zipcode
    6:
      mDayNo: numeric day number
    7:
      mDay: abbreviated day name
    8:
      mTime: meeting time
    9:
      mInternational: meeting time in 24 hour clock
    10:
      mOpen: open/closed
    11:
      mSmoke: meeting type (Mens, Womens, Nonsmoking, etc)
    12:
      mType: meeting format (Discussion, Speaker, Big Book, etc)
    13:
      mNotes: notes
    14:
      mAccess: handicaped access
    15:
      mSpecial: coordinates
process:
  name: mName
  field_address/address_line1: mAdd1
  field_address/address_line2: mAdd2
  field_address/locality: mCity
  field_address/dependent_locality:
    plugin: default_value
    value: MD
  field_address/postal_code: zipcode
  field_coordinates/lat:
    plugin: explode_position
    source: mSpecial
    delimiter: ,
    position: 0
  field_coordinates/long:
    plugin: explode_position
    source: mSpecial
    delimiter: ,
    position: 1
destination:
  plugin: 'entity:anonlocation'
migration_dependencies: {}
